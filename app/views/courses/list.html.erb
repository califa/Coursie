<% @page_title = "Courses List" %>

<% # @courses = Teacher.find_by_id(session[:user_id]).courses if session[:type] == "Teacher" %>

<div class="course list">

  
  <div class="actions"><%= link_to("Add New Course", new_course_path, :class => 'action new') if session[:type] == "Admin" %></div>
  <section class="section_courselist list">
      <h1>Courses</h1>
       <div class="section_container">
        <table class="listing" summary="Course list">
        <tr class="header">
          <th class="lister">Course</th>
          <th class="num">Students</th>
          <th>&nbsp;</th>
        </tr>
        <% @courses.each do |course| %>
        <tr>
          <td><%= link_to(course.name, course_path(course.id), :class => 'action show') %></td>
          <td class="num"><%= course.enrollments.size %></td>
          <td class="actions">
            <%= link_to("Enrollments", enrollments_path(:course_id => course.id), :class => 'action show') if session[:type] == "Admin" %>
            <%= link_to("Assignments", assignments_path(:course_id => course.id), :class => 'action show') %>
            <%= link_to("Edit", edit_course_path(course.id), :class => 'action edit') %>
            <%= link_to("Delete", delete_course_path(course.id), :class => 'action delete') if session[:type] == "Admin" %>
          </td>
        </tr>
        </div>
    </section>
    <% end %>
  </table>
</div>
